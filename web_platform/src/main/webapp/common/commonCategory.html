<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="ThemeBucket">
    <link rel="shortcut icon" href="#" type="image/png">

    <title i18n="lbsp.title">LBSP</title>

    <link href="../static/shared/adex/css/style.css" rel="stylesheet">
    <link href="../static/shared/adex/css/style-responsive.css" rel="stylesheet">
    <link href="../static/css/mid-doc.css" rel="stylesheet">
    <link href="../static/css/input-select.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../static/css/dhtmlxtree.css"/>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="../static/shared/adex/js/html5shiv.js"></script>
    <script src="../static/shared/adex/js/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="panel">
    <div class="panel-heading" style="background-color: #65CEA7;color: #ffffff;">
        <h3 class="panel-title">
            <i class="fa fa-circle-o"></i>
            <span i18n="category.label">分类</span>
        </h3>
    </div>
     <div class="panel-body">
        <legend i18n="category.label.info">分类信息</legend>
        <form class="form-horizontal adminex-form" id="submitMenu" method="post">
            <div class="form-group" data-bind="visible:viewEdit() || viewDel() || viewAdd()">
                <label class="col-sm-2 col-md-2 col-lg-2">&nbsp;</label>
                <div class="col-sm-3 col-sm-3 col-lg-3">
                    <button type="button" class="btn btn-default btn-sm" id="apply" data-bind="click:apply" i18n="common.btn.applyBtn">&nbsp;</button>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 col-lg-2 col-md-2 control-label"><span class="icon-require">*</span><span i18n="category.struct">分类结构</span></label>
	            <div class="col-sm-3 col-md-3 col-lg-3" style="margin-top: 5px;">
				    <div id="tree"></div>
                    <div class="btn-group btn-group-sm dropup" style="margin-top: 10px;">
                        <div class="btn-group">
                            <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" data-bind="visible:viewAdd()">
                                <span i18n="common.sys.add.label">新增</span>
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="#"data-bind="click:function(){add(1);}" i18n="category.same.level">同级节点</a></li>
                                <li><a href="#"data-bind="click:function(){add(2);},visible:viewSub()" i18n="category.sub.level">子级节点</a></li>
                            </ul>
                        </div>
                        <button type="button" class="btn btn-default" data-bind="click:function(){del(1);},visible:viewDel()" i18n="common.sys.label.delStatus">删除</button>
                        <button type="button" class="btn btn-default" data-bind="click:function(){move(1);},visible:viewEdit()" i18n="common.sys.label.up">向上</button>
                        <button type="button" class="btn btn-default" data-bind="click:function(){move(2);},visible:viewEdit()" i18n="common.sys.label.down">向下</button>
                    </div>

                </div>
                <div class="col-sm-7 col-md-7 col-lg-6" style="margin-top: 5px;" data-bind="visible:firstLoad()">
                    <div class="form-group form-group-sm" data-bind="visible:viewEdit() || addTypeView()">
                        <label class="col-sm-2 col-md-2 col-lg-2 control-label"><span class="icon-require">*</span><span i18n="category.name">名称：</span></label>
                        <div class="col-sm-6 col-sm-8 col-lg-6">
                            <input name="name" id="name" data-bind="value: categoryView.name" class="form-control input-sm" type="text" maxlength="30">
                        </div>
                    </div>
                    <div class="form-group form-group-sm" data-bind="visible:!viewEdit() && !addTypeView()">
                        <label class="col-sm-2 col-md-2 col-lg-2 control-label"><span i18n="category.name">名称：</span></label>
                        <div class="col-sm-6 col-sm-8 col-lg-6 form-control-static" data-bind="text:categoryView.name"> </div>
                    </div>
                    <div class="form-group form-group-sm">
                        <label class="col-sm-2 col-md-2 col-lg-2 control-label"><span i18n="category.parent.level">父级类别：</span></label>
                        <div class="col-sm-6 col-sm-8 col-lg-6 form-control-static" data-bind="text:categoryView.parentName"> </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 col-md-2 col-lg-2 control-label"><span class="icon-require">*</span><span i18n="category.status">状态</span></label>
                        <div class="col-sm-4 col-sm-6 col-lg-4">
                            <select class="form-control" name="out_join" style="cursor: pointer;"
                                    data-bind="options:statusOptions,optionsText:'text',optionsValue:'val',value: categoryView.status"></select>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" data-bind="visible:!viewEdit() && !addTypeView()">
                        <label class="col-sm-2 col-md-2 col-lg-2 control-label"><span i18n="category.status">状态：</span></label>
                        <div class="col-sm-6 col-sm-8 col-lg-6 form-control-static" data-bind="text:categoryView.status"> </div>
                    </div>
                    <div clss="form-group" data-bind="visible:viewEdit() || addTypeView()">
                        <div class="col-sm-offset-2 col-lg-offset-2 col-md-offset-2">
                            <button type="button" class="btn btn-default btn-group-sm" data-bind="click:edit" i18n="common.btn.nospace.sureBtn">确认</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<!-- 警告Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div id="menurec-modal-header" class="modal-header"  style="background-color: #424F63;color: #ffffff;">
                <button type="button" class="close" data-dismiss="modal"><span id="close_icon" aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">警&nbsp;&nbsp;告</h4>
            </div>
            <div class="modal-body" i18n="common.sys.delete.alert">
                确定删除选定项吗？
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="sure_btn" data-bind="click:function(){del(0);}" i18n="common.btn.nospace.sureBtn">确定</button>
                <button type="button" class="btn btn-default"  data-dismiss="modal" i18n="common.btn.nospace.closeBtn">关闭</button>
            </div>
        </div>
    </div>
</div>
<!-- 操作等候Modal -->
<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #424F63;color: #ffffff;">
                <h4 class="modal-title" i18n="common.sys.info">系统信息</h4>
            </div>
            <div class="modal-body" id="body-content-modal">

            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="../static/shared/js/require.js"></script>
<script type="text/javascript" src="../static/config.js"></script>
<script type="text/javascript" src="../static/js/viewmodels/common/commonCategoryViewModel.js"></script>
</body>
</html>